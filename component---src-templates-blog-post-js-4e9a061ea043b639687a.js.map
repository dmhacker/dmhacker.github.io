{"version":3,"file":"component---src-templates-blog-post-js-4e9a061ea043b639687a.js","mappings":"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","sources":["webpack://dmhacker-website/./node_modules/iframe-resizer/index.js","webpack://dmhacker-website/./node_modules/iframe-resizer/js/iframeResizer.contentWindow.js","webpack://dmhacker-website/./node_modules/iframe-resizer/js/iframeResizer.js","webpack://dmhacker-website/./node_modules/iframe-resizer/js/index.js","webpack://dmhacker-website/./node_modules/react-remarkbox/dist/index.js","webpack://dmhacker-website/./src/templates/blog-post.js"],"sourcesContent":["'use strict';\n\nmodule.exports = require('./js');","/*\n * File: iframeResizer.contentWindow.js\n * Desc: Include this file in any page being loaded into an iframe\n *       to force the iframe to resize to the content size.\n * Requires: iframeResizer.js on host page.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n * Contributor: Jure Mav - jure.mav@gmail.com\n * Contributor: Ian Caunce - ian@hallnet.co.uk\n */\n(function (undefined) {\n  'use strict';\n\n  if (typeof window === 'undefined') return; // don't run for server side render\n\n  var autoResize = true,\n      base = 10,\n      bodyBackground = '',\n      bodyMargin = 0,\n      bodyMarginStr = '',\n      bodyObserver = null,\n      bodyPadding = '',\n      calculateWidth = false,\n      doubleEventList = {\n    resize: 1,\n    click: 1\n  },\n      eventCancelTimer = 128,\n      firstRun = true,\n      height = 1,\n      heightCalcModeDefault = 'bodyOffset',\n      heightCalcMode = heightCalcModeDefault,\n      initLock = true,\n      initMsg = '',\n      inPageLinks = {},\n      interval = 32,\n      intervalTimer = null,\n      logging = false,\n      msgID = '[iFrameSizer]',\n      //Must match host page msg ID\n  msgIdLen = msgID.length,\n      myID = '',\n      observer = null,\n      resetRequiredMethods = {\n    max: 1,\n    min: 1,\n    bodyScroll: 1,\n    documentElementScroll: 1\n  },\n      resizeFrom = 'child',\n      sendPermit = true,\n      target = window.parent,\n      targetOriginDefault = '*',\n      tolerance = 0,\n      triggerLocked = false,\n      triggerLockedTimer = null,\n      throttledTimer = 16,\n      width = 1,\n      widthCalcModeDefault = 'scroll',\n      widthCalcMode = widthCalcModeDefault,\n      win = window,\n      messageCallback = function messageCallback() {\n    warn('MessageCallback function not defined');\n  },\n      readyCallback = function readyCallback() {},\n      pageInfoCallback = function pageInfoCallback() {},\n      customCalcMethods = {\n    height: function height() {\n      warn('Custom height calculation function not defined');\n      return document.documentElement.offsetHeight;\n    },\n    width: function width() {\n      warn('Custom width calculation function not defined');\n      return document.body.scrollWidth;\n    }\n  },\n      eventHandlersByName = {},\n      passiveSupported = false,\n      onceSupported = false;\n\n  function noop() {}\n\n  try {\n    var options = Object.create({}, {\n      passive: {\n        get: function get() {\n          passiveSupported = true;\n        }\n      },\n      once: {\n        get: function get() {\n          onceSupported = true;\n        }\n      }\n    });\n    window.addEventListener('test', noop, options);\n    window.removeEventListener('test', noop, options);\n  } catch (e) {\n    /* */\n  }\n\n  function addEventListener(el, evt, func, options) {\n    /* istanbul ignore else */\n    // Not testable in phantomJS\n    if ('addEventListener' in window) {\n      el.addEventListener(evt, func, passiveSupported ? options || {} : false);\n    } else if ('attachEvent' in window) {\n      //IE\n      el.attachEvent('on' + evt, func);\n    }\n  }\n\n  function removeEventListener(el, evt, func) {\n    /* istanbul ignore else */\n    // Not testable in phantomJS\n    if ('removeEventListener' in window) {\n      el.removeEventListener(evt, func, false);\n    } else if ('detachEvent' in window) {\n      //IE\n      el.detachEvent('on' + evt, func);\n    }\n  }\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  } //Based on underscore.js\n\n\n  function throttle(func) {\n    var context,\n        args,\n        result,\n        timeout = null,\n        previous = 0,\n        later = function later() {\n      previous = getNow();\n      timeout = null;\n      result = func.apply(context, args);\n\n      if (!timeout) {\n        context = args = null;\n      }\n    };\n\n    return function () {\n      var now = getNow();\n\n      if (!previous) {\n        previous = now;\n      }\n\n      var remaining = throttledTimer - (now - previous);\n      context = this;\n      args = arguments;\n\n      if (remaining <= 0 || remaining > throttledTimer) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n\n        previous = now;\n        result = func.apply(context, args);\n\n        if (!timeout) {\n          context = args = null;\n        }\n      } else if (!timeout) {\n        timeout = setTimeout(later, remaining);\n      }\n\n      return result;\n    };\n  }\n\n  var getNow = Date.now || function () {\n    /* istanbul ignore next */\n    // Not testable in PhantonJS\n    return new Date().getTime();\n  };\n\n  function formatLogMsg(msg) {\n    return msgID + '[' + myID + ']' + ' ' + msg;\n  }\n\n  function log(msg) {\n    if (logging && 'object' === typeof window.console) {\n      console.log(formatLogMsg(msg));\n    }\n  }\n\n  function warn(msg) {\n    if ('object' === typeof window.console) {\n      console.warn(formatLogMsg(msg));\n    }\n  }\n\n  function init() {\n    readDataFromParent();\n    log('Initialising iFrame (' + location.href + ')');\n    readDataFromPage();\n    setMargin();\n    setBodyStyle('background', bodyBackground);\n    setBodyStyle('padding', bodyPadding);\n    injectClearFixIntoBodyElement();\n    checkHeightMode();\n    checkWidthMode();\n    stopInfiniteResizingOfIFrame();\n    setupPublicMethods();\n    startEventListeners();\n    inPageLinks = setupInPageLinks();\n    sendSize('init', 'Init message from host page');\n    readyCallback();\n  }\n\n  function readDataFromParent() {\n    function strBool(str) {\n      return 'true' === str ? true : false;\n    }\n\n    var data = initMsg.substr(msgIdLen).split(':');\n    myID = data[0];\n    bodyMargin = undefined !== data[1] ? Number(data[1]) : bodyMargin; //For V1 compatibility\n\n    calculateWidth = undefined !== data[2] ? strBool(data[2]) : calculateWidth;\n    logging = undefined !== data[3] ? strBool(data[3]) : logging;\n    interval = undefined !== data[4] ? Number(data[4]) : interval;\n    autoResize = undefined !== data[6] ? strBool(data[6]) : autoResize;\n    bodyMarginStr = data[7];\n    heightCalcMode = undefined !== data[8] ? data[8] : heightCalcMode;\n    bodyBackground = data[9];\n    bodyPadding = data[10];\n    tolerance = undefined !== data[11] ? Number(data[11]) : tolerance;\n    inPageLinks.enable = undefined !== data[12] ? strBool(data[12]) : false;\n    resizeFrom = undefined !== data[13] ? data[13] : resizeFrom;\n    widthCalcMode = undefined !== data[14] ? data[14] : widthCalcMode;\n  }\n\n  function readDataFromPage() {\n    function readData() {\n      var data = window.iFrameResizer;\n      log('Reading data from page: ' + JSON.stringify(data));\n      messageCallback = 'messageCallback' in data ? data.messageCallback : messageCallback;\n      readyCallback = 'readyCallback' in data ? data.readyCallback : readyCallback;\n      targetOriginDefault = 'targetOrigin' in data ? data.targetOrigin : targetOriginDefault;\n      heightCalcMode = 'heightCalculationMethod' in data ? data.heightCalculationMethod : heightCalcMode;\n      widthCalcMode = 'widthCalculationMethod' in data ? data.widthCalculationMethod : widthCalcMode;\n    }\n\n    function setupCustomCalcMethods(calcMode, calcFunc) {\n      if ('function' === typeof calcMode) {\n        log('Setup custom ' + calcFunc + 'CalcMethod');\n        customCalcMethods[calcFunc] = calcMode;\n        calcMode = 'custom';\n      }\n\n      return calcMode;\n    }\n\n    if ('iFrameResizer' in window && Object === window.iFrameResizer.constructor) {\n      readData();\n      heightCalcMode = setupCustomCalcMethods(heightCalcMode, 'height');\n      widthCalcMode = setupCustomCalcMethods(widthCalcMode, 'width');\n    }\n\n    log('TargetOrigin for parent set to: ' + targetOriginDefault);\n  }\n\n  function chkCSS(attr, value) {\n    if (-1 !== value.indexOf('-')) {\n      warn('Negative CSS value ignored for ' + attr);\n      value = '';\n    }\n\n    return value;\n  }\n\n  function setBodyStyle(attr, value) {\n    if (undefined !== value && '' !== value && 'null' !== value) {\n      document.body.style[attr] = value;\n      log('Body ' + attr + ' set to \"' + value + '\"');\n    }\n  }\n\n  function setMargin() {\n    //If called via V1 script, convert bodyMargin from int to str\n    if (undefined === bodyMarginStr) {\n      bodyMarginStr = bodyMargin + 'px';\n    }\n\n    setBodyStyle('margin', chkCSS('margin', bodyMarginStr));\n  }\n\n  function stopInfiniteResizingOfIFrame() {\n    document.documentElement.style.height = '';\n    document.body.style.height = '';\n    log('HTML & body height set to \"auto\"');\n  }\n\n  function manageTriggerEvent(options) {\n    var listener = {\n      add: function add(eventName) {\n        function handleEvent() {\n          sendSize(options.eventName, options.eventType);\n        }\n\n        eventHandlersByName[eventName] = handleEvent;\n        addEventListener(window, eventName, handleEvent, {\n          passive: true\n        });\n      },\n      remove: function remove(eventName) {\n        var handleEvent = eventHandlersByName[eventName];\n        delete eventHandlersByName[eventName];\n        removeEventListener(window, eventName, handleEvent);\n      }\n    };\n\n    if (options.eventNames && Array.prototype.map) {\n      options.eventName = options.eventNames[0];\n      options.eventNames.map(listener[options.method]);\n    } else {\n      listener[options.method](options.eventName);\n    }\n\n    log(capitalizeFirstLetter(options.method) + ' event listener: ' + options.eventType);\n  }\n\n  function manageEventListeners(method) {\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Start',\n      eventNames: ['animationstart', 'webkitAnimationStart']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation Iteration',\n      eventNames: ['animationiteration', 'webkitAnimationIteration']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Animation End',\n      eventNames: ['animationend', 'webkitAnimationEnd']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Input',\n      eventName: 'input'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Up',\n      eventName: 'mouseup'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Mouse Down',\n      eventName: 'mousedown'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Orientation Change',\n      eventName: 'orientationchange'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Print',\n      eventName: ['afterprint', 'beforeprint']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Ready State Change',\n      eventName: 'readystatechange'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Start',\n      eventName: 'touchstart'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch End',\n      eventName: 'touchend'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Touch Cancel',\n      eventName: 'touchcancel'\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Start',\n      eventNames: ['transitionstart', 'webkitTransitionStart', 'MSTransitionStart', 'oTransitionStart', 'otransitionstart']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition Iteration',\n      eventNames: ['transitioniteration', 'webkitTransitionIteration', 'MSTransitionIteration', 'oTransitionIteration', 'otransitioniteration']\n    });\n    manageTriggerEvent({\n      method: method,\n      eventType: 'Transition End',\n      eventNames: ['transitionend', 'webkitTransitionEnd', 'MSTransitionEnd', 'oTransitionEnd', 'otransitionend']\n    });\n\n    if ('child' === resizeFrom) {\n      manageTriggerEvent({\n        method: method,\n        eventType: 'IFrame Resized',\n        eventName: 'resize'\n      });\n    }\n  }\n\n  function checkCalcMode(calcMode, calcModeDefault, modes, type) {\n    if (calcModeDefault !== calcMode) {\n      if (!(calcMode in modes)) {\n        warn(calcMode + ' is not a valid option for ' + type + 'CalculationMethod.');\n        calcMode = calcModeDefault;\n      }\n\n      log(type + ' calculation method set to \"' + calcMode + '\"');\n    }\n\n    return calcMode;\n  }\n\n  function checkHeightMode() {\n    heightCalcMode = checkCalcMode(heightCalcMode, heightCalcModeDefault, getHeight, 'height');\n  }\n\n  function checkWidthMode() {\n    widthCalcMode = checkCalcMode(widthCalcMode, widthCalcModeDefault, getWidth, 'width');\n  }\n\n  function startEventListeners() {\n    if (true === autoResize) {\n      manageEventListeners('add');\n      setupMutationObserver();\n    } else {\n      log('Auto Resize disabled');\n    }\n  }\n\n  function stopMsgsToParent() {\n    log('Disable outgoing messages');\n    sendPermit = false;\n  }\n\n  function removeMsgListener() {\n    log('Remove event listener: Message');\n    removeEventListener(window, 'message', receiver);\n  }\n\n  function disconnectMutationObserver() {\n    if (null !== bodyObserver) {\n      /* istanbul ignore next */\n      // Not testable in PhantonJS\n      bodyObserver.disconnect();\n    }\n  }\n\n  function stopEventListeners() {\n    manageEventListeners('remove');\n    disconnectMutationObserver();\n    clearInterval(intervalTimer);\n  }\n\n  function teardown() {\n    stopMsgsToParent();\n    removeMsgListener();\n    if (true === autoResize) stopEventListeners();\n  }\n\n  function injectClearFixIntoBodyElement() {\n    var clearFix = document.createElement('div');\n    clearFix.style.clear = 'both';\n    clearFix.style.display = 'block'; //Guard against this having been globally redefined in CSS.\n\n    document.body.appendChild(clearFix);\n  }\n\n  function setupInPageLinks() {\n    function getPagePosition() {\n      return {\n        x: window.pageXOffset !== undefined ? window.pageXOffset : document.documentElement.scrollLeft,\n        y: window.pageYOffset !== undefined ? window.pageYOffset : document.documentElement.scrollTop\n      };\n    }\n\n    function getElementPosition(el) {\n      var elPosition = el.getBoundingClientRect(),\n          pagePosition = getPagePosition();\n      return {\n        x: parseInt(elPosition.left, 10) + parseInt(pagePosition.x, 10),\n        y: parseInt(elPosition.top, 10) + parseInt(pagePosition.y, 10)\n      };\n    }\n\n    function findTarget(location) {\n      function jumpToTarget(target) {\n        var jumpPosition = getElementPosition(target);\n        log('Moving to in page link (#' + hash + ') at x: ' + jumpPosition.x + ' y: ' + jumpPosition.y);\n        sendMsg(jumpPosition.y, jumpPosition.x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width\n      }\n\n      var hash = location.split('#')[1] || location,\n          //Remove # if present\n      hashData = decodeURIComponent(hash),\n          target = document.getElementById(hashData) || document.getElementsByName(hashData)[0];\n\n      if (undefined !== target) {\n        jumpToTarget(target);\n      } else {\n        log('In page link (#' + hash + ') not found in iFrame, so sending to parent');\n        sendMsg(0, 0, 'inPageLink', '#' + hash);\n      }\n    }\n\n    function checkLocationHash() {\n      if ('' !== location.hash && '#' !== location.hash) {\n        findTarget(location.href);\n      }\n    }\n\n    function bindAnchors() {\n      function setupLink(el) {\n        function linkClicked(e) {\n          e.preventDefault();\n          /*jshint validthis:true */\n\n          findTarget(this.getAttribute('href'));\n        }\n\n        if ('#' !== el.getAttribute('href')) {\n          addEventListener(el, 'click', linkClicked);\n        }\n      }\n\n      Array.prototype.forEach.call(document.querySelectorAll('a[href^=\"#\"]'), setupLink);\n    }\n\n    function bindLocationHash() {\n      addEventListener(window, 'hashchange', checkLocationHash);\n    }\n\n    function initCheck() {\n      //check if page loaded with location hash after init resize\n      setTimeout(checkLocationHash, eventCancelTimer);\n    }\n\n    function enableInPageLinks() {\n      /* istanbul ignore else */\n      // Not testable in phantonJS\n      if (Array.prototype.forEach && document.querySelectorAll) {\n        log('Setting up location.hash handlers');\n        bindAnchors();\n        bindLocationHash();\n        initCheck();\n      } else {\n        warn('In page linking not fully supported in this browser! (See README.md for IE8 workaround)');\n      }\n    }\n\n    if (inPageLinks.enable) {\n      enableInPageLinks();\n    } else {\n      log('In page linking not enabled');\n    }\n\n    return {\n      findTarget: findTarget\n    };\n  }\n\n  function setupPublicMethods() {\n    log('Enable public methods');\n    win.parentIFrame = {\n      autoResize: function autoResizeF(resize) {\n        if (true === resize && false === autoResize) {\n          autoResize = true;\n          startEventListeners(); //sendSize('autoResize','Auto Resize enabled');\n        } else if (false === resize && true === autoResize) {\n          autoResize = false;\n          stopEventListeners();\n        }\n\n        return autoResize;\n      },\n      close: function closeF() {\n        sendMsg(0, 0, 'close');\n        teardown();\n      },\n      getId: function getIdF() {\n        return myID;\n      },\n      getPageInfo: function getPageInfoF(callback) {\n        if ('function' === typeof callback) {\n          pageInfoCallback = callback;\n          sendMsg(0, 0, 'pageInfo');\n        } else {\n          pageInfoCallback = function pageInfoCallback() {};\n\n          sendMsg(0, 0, 'pageInfoStop');\n        }\n      },\n      moveToAnchor: function moveToAnchorF(hash) {\n        inPageLinks.findTarget(hash);\n      },\n      reset: function resetF() {\n        resetIFrame('parentIFrame.reset');\n      },\n      scrollTo: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollTo'); // X&Y reversed at sendMsg uses height/width\n      },\n      scrollToOffset: function scrollToF(x, y) {\n        sendMsg(y, x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width\n      },\n      sendMessage: function sendMessageF(msg, targetOrigin) {\n        sendMsg(0, 0, 'message', JSON.stringify(msg), targetOrigin);\n      },\n      setHeightCalculationMethod: function setHeightCalculationMethodF(heightCalculationMethod) {\n        heightCalcMode = heightCalculationMethod;\n        checkHeightMode();\n      },\n      setWidthCalculationMethod: function setWidthCalculationMethodF(widthCalculationMethod) {\n        widthCalcMode = widthCalculationMethod;\n        checkWidthMode();\n      },\n      setTargetOrigin: function setTargetOriginF(targetOrigin) {\n        log('Set targetOrigin: ' + targetOrigin);\n        targetOriginDefault = targetOrigin;\n      },\n      size: function sizeF(customHeight, customWidth) {\n        var valString = '' + (customHeight ? customHeight : '') + (customWidth ? ',' + customWidth : ''); //lockTrigger();\n\n        sendSize('size', 'parentIFrame.size(' + valString + ')', customHeight, customWidth);\n      }\n    };\n  }\n\n  function initInterval() {\n    if (0 !== interval) {\n      log('setInterval: ' + interval + 'ms');\n      intervalTimer = setInterval(function () {\n        sendSize('interval', 'setInterval: ' + interval);\n      }, Math.abs(interval));\n    }\n  } //Not testable in PhantomJS\n\n  /* istanbul ignore next */\n\n\n  function setupBodyMutationObserver() {\n    function addImageLoadListners(mutation) {\n      function addImageLoadListener(element) {\n        if (false === element.complete) {\n          log('Attach listeners to ' + element.src);\n          element.addEventListener('load', imageLoaded, false);\n          element.addEventListener('error', imageError, false);\n          elements.push(element);\n        }\n      }\n\n      if (mutation.type === 'attributes' && mutation.attributeName === 'src') {\n        addImageLoadListener(mutation.target);\n      } else if (mutation.type === 'childList') {\n        Array.prototype.forEach.call(mutation.target.querySelectorAll('img'), addImageLoadListener);\n      }\n    }\n\n    function removeFromArray(element) {\n      elements.splice(elements.indexOf(element), 1);\n    }\n\n    function removeImageLoadListener(element) {\n      log('Remove listeners from ' + element.src);\n      element.removeEventListener('load', imageLoaded, false);\n      element.removeEventListener('error', imageError, false);\n      removeFromArray(element);\n    }\n\n    function imageEventTriggered(event, type, typeDesc) {\n      removeImageLoadListener(event.target);\n      sendSize(type, typeDesc + ': ' + event.target.src, undefined, undefined);\n    }\n\n    function imageLoaded(event) {\n      imageEventTriggered(event, 'imageLoad', 'Image loaded');\n    }\n\n    function imageError(event) {\n      imageEventTriggered(event, 'imageLoadFailed', 'Image load failed');\n    }\n\n    function mutationObserved(mutations) {\n      sendSize('mutationObserver', 'mutationObserver: ' + mutations[0].target + ' ' + mutations[0].type); //Deal with WebKit asyncing image loading when tags are injected into the page\n\n      mutations.forEach(addImageLoadListners);\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n          config = {\n        attributes: true,\n        attributeOldValue: false,\n        characterData: true,\n        characterDataOldValue: false,\n        childList: true,\n        subtree: true\n      };\n      observer = new MutationObserver(mutationObserved);\n      log('Create body MutationObserver');\n      observer.observe(target, config);\n      return observer;\n    }\n\n    var elements = [],\n        MutationObserver = window.MutationObserver || window.WebKitMutationObserver,\n        observer = createMutationObserver();\n    return {\n      disconnect: function disconnect() {\n        if ('disconnect' in observer) {\n          log('Disconnect body MutationObserver');\n          observer.disconnect();\n          elements.forEach(removeImageLoadListener);\n        }\n      }\n    };\n  }\n\n  function setupMutationObserver() {\n    var forceIntervalTimer = 0 > interval; // Not testable in PhantomJS\n\n    /* istanbul ignore if */\n\n    if (window.MutationObserver || window.WebKitMutationObserver) {\n      if (forceIntervalTimer) {\n        initInterval();\n      } else {\n        bodyObserver = setupBodyMutationObserver();\n      }\n    } else {\n      log('MutationObserver not supported in this browser!');\n      initInterval();\n    }\n  } // document.documentElement.offsetHeight is not reliable, so\n  // we have to jump through hoops to get a better value.\n\n\n  function getComputedStyle(prop, el) {\n    /* istanbul ignore next */\n    //Not testable in PhantomJS\n    function convertUnitsToPxForIE8(value) {\n      var PIXEL = /^\\d+(px)?$/i;\n\n      if (PIXEL.test(value)) {\n        return parseInt(value, base);\n      }\n\n      var style = el.style.left,\n          runtimeStyle = el.runtimeStyle.left;\n      el.runtimeStyle.left = el.currentStyle.left;\n      el.style.left = value || 0;\n      value = el.style.pixelLeft;\n      el.style.left = style;\n      el.runtimeStyle.left = runtimeStyle;\n      return value;\n    }\n\n    var retVal = 0;\n    el = el || document.body; // Not testable in phantonJS\n\n    /* istanbul ignore else */\n\n    if ('defaultView' in document && 'getComputedStyle' in document.defaultView) {\n      retVal = document.defaultView.getComputedStyle(el, null);\n      retVal = null !== retVal ? retVal[prop] : 0;\n    } else {\n      //IE8\n      retVal = convertUnitsToPxForIE8(el.currentStyle[prop]);\n    }\n\n    return parseInt(retVal, base);\n  }\n\n  function chkEventThottle(timer) {\n    if (timer > throttledTimer / 2) {\n      throttledTimer = 2 * timer;\n      log('Event throttle increased to ' + throttledTimer + 'ms');\n    }\n  } //Idea from https://github.com/guardian/iframe-messenger\n\n\n  function getMaxElement(side, elements) {\n    var elementsLength = elements.length,\n        elVal = 0,\n        maxVal = 0,\n        Side = capitalizeFirstLetter(side),\n        timer = getNow();\n\n    for (var i = 0; i < elementsLength; i++) {\n      elVal = elements[i].getBoundingClientRect()[side] + getComputedStyle('margin' + Side, elements[i]);\n\n      if (elVal > maxVal) {\n        maxVal = elVal;\n      }\n    }\n\n    timer = getNow() - timer;\n    log('Parsed ' + elementsLength + ' HTML elements');\n    log('Element position calculated in ' + timer + 'ms');\n    chkEventThottle(timer);\n    return maxVal;\n  }\n\n  function getAllMeasurements(dimention) {\n    return [dimention.bodyOffset(), dimention.bodyScroll(), dimention.documentElementOffset(), dimention.documentElementScroll()];\n  }\n\n  function getTaggedElements(side, tag) {\n    function noTaggedElementsFound() {\n      warn('No tagged elements (' + tag + ') found on page');\n      return document.querySelectorAll('body *');\n    }\n\n    var elements = document.querySelectorAll('[' + tag + ']');\n    if (0 === elements.length) noTaggedElementsFound();\n    return getMaxElement(side, elements);\n  }\n\n  function getAllElements() {\n    return document.querySelectorAll('body *');\n  }\n\n  var getHeight = {\n    bodyOffset: function getBodyOffsetHeight() {\n      return document.body.offsetHeight + getComputedStyle('marginTop') + getComputedStyle('marginBottom');\n    },\n    offset: function offset() {\n      return getHeight.bodyOffset(); //Backwards compatability\n    },\n    bodyScroll: function getBodyScrollHeight() {\n      return document.body.scrollHeight;\n    },\n    custom: function getCustomWidth() {\n      return customCalcMethods.height();\n    },\n    documentElementOffset: function getDEOffsetHeight() {\n      return document.documentElement.offsetHeight;\n    },\n    documentElementScroll: function getDEScrollHeight() {\n      return document.documentElement.scrollHeight;\n    },\n    max: function getMaxHeight() {\n      return Math.max.apply(null, getAllMeasurements(getHeight));\n    },\n    min: function getMinHeight() {\n      return Math.min.apply(null, getAllMeasurements(getHeight));\n    },\n    grow: function growHeight() {\n      return getHeight.max(); //Run max without the forced downsizing\n    },\n    lowestElement: function getBestHeight() {\n      return Math.max(getHeight.bodyOffset() || getHeight.documentElementOffset(), getMaxElement('bottom', getAllElements()));\n    },\n    taggedElement: function getTaggedElementsHeight() {\n      return getTaggedElements('bottom', 'data-iframe-height');\n    }\n  },\n      getWidth = {\n    bodyScroll: function getBodyScrollWidth() {\n      return document.body.scrollWidth;\n    },\n    bodyOffset: function getBodyOffsetWidth() {\n      return document.body.offsetWidth;\n    },\n    custom: function getCustomWidth() {\n      return customCalcMethods.width();\n    },\n    documentElementScroll: function getDEScrollWidth() {\n      return document.documentElement.scrollWidth;\n    },\n    documentElementOffset: function getDEOffsetWidth() {\n      return document.documentElement.offsetWidth;\n    },\n    scroll: function getMaxWidth() {\n      return Math.max(getWidth.bodyScroll(), getWidth.documentElementScroll());\n    },\n    max: function getMaxWidth() {\n      return Math.max.apply(null, getAllMeasurements(getWidth));\n    },\n    min: function getMinWidth() {\n      return Math.min.apply(null, getAllMeasurements(getWidth));\n    },\n    rightMostElement: function rightMostElement() {\n      return getMaxElement('right', getAllElements());\n    },\n    taggedElement: function getTaggedElementsWidth() {\n      return getTaggedElements('right', 'data-iframe-width');\n    }\n  };\n\n  function sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth) {\n    function resizeIFrame() {\n      height = currentHeight;\n      width = currentWidth;\n      sendMsg(height, width, triggerEvent);\n    }\n\n    function isSizeChangeDetected() {\n      function checkTolarance(a, b) {\n        var retVal = Math.abs(a - b) <= tolerance;\n        return !retVal;\n      }\n\n      currentHeight = undefined !== customHeight ? customHeight : getHeight[heightCalcMode]();\n      currentWidth = undefined !== customWidth ? customWidth : getWidth[widthCalcMode]();\n      return checkTolarance(height, currentHeight) || calculateWidth && checkTolarance(width, currentWidth);\n    }\n\n    function isForceResizableEvent() {\n      return !(triggerEvent in {\n        init: 1,\n        interval: 1,\n        size: 1\n      });\n    }\n\n    function isForceResizableCalcMode() {\n      return heightCalcMode in resetRequiredMethods || calculateWidth && widthCalcMode in resetRequiredMethods;\n    }\n\n    function logIgnored() {\n      log('No change in size detected');\n    }\n\n    function checkDownSizing() {\n      if (isForceResizableEvent() && isForceResizableCalcMode()) {\n        resetIFrame(triggerEventDesc);\n      } else if (!(triggerEvent in {\n        interval: 1\n      })) {\n        logIgnored();\n      }\n    }\n\n    var currentHeight, currentWidth;\n\n    if (isSizeChangeDetected() || 'init' === triggerEvent) {\n      lockTrigger();\n      resizeIFrame();\n    } else {\n      checkDownSizing();\n    }\n  }\n\n  var sizeIFrameThrottled = throttle(sizeIFrame);\n\n  function sendSize(triggerEvent, triggerEventDesc, customHeight, customWidth) {\n    function recordTrigger() {\n      if (!(triggerEvent in {\n        reset: 1,\n        resetPage: 1,\n        init: 1\n      })) {\n        log('Trigger event: ' + triggerEventDesc);\n      }\n    }\n\n    function isDoubleFiredEvent() {\n      return triggerLocked && triggerEvent in doubleEventList;\n    }\n\n    if (!isDoubleFiredEvent()) {\n      recordTrigger();\n\n      if (triggerEvent === 'init') {\n        sizeIFrame(triggerEvent, triggerEventDesc, customHeight, customWidth);\n      } else {\n        sizeIFrameThrottled(triggerEvent, triggerEventDesc, customHeight, customWidth);\n      }\n    } else {\n      log('Trigger event cancelled: ' + triggerEvent);\n    }\n  }\n\n  function lockTrigger() {\n    if (!triggerLocked) {\n      triggerLocked = true;\n      log('Trigger event lock on');\n    }\n\n    clearTimeout(triggerLockedTimer);\n    triggerLockedTimer = setTimeout(function () {\n      triggerLocked = false;\n      log('Trigger event lock off');\n      log('--');\n    }, eventCancelTimer);\n  }\n\n  function triggerReset(triggerEvent) {\n    height = getHeight[heightCalcMode]();\n    width = getWidth[widthCalcMode]();\n    sendMsg(height, width, triggerEvent);\n  }\n\n  function resetIFrame(triggerEventDesc) {\n    var hcm = heightCalcMode;\n    heightCalcMode = heightCalcModeDefault;\n    log('Reset trigger event: ' + triggerEventDesc);\n    lockTrigger();\n    triggerReset('reset');\n    heightCalcMode = hcm;\n  }\n\n  function sendMsg(height, width, triggerEvent, msg, targetOrigin) {\n    function setTargetOrigin() {\n      if (undefined === targetOrigin) {\n        targetOrigin = targetOriginDefault;\n      } else {\n        log('Message targetOrigin: ' + targetOrigin);\n      }\n    }\n\n    function sendToParent() {\n      var size = height + ':' + width,\n          message = myID + ':' + size + ':' + triggerEvent + (undefined !== msg ? ':' + msg : '');\n      log('Sending message to host page (' + message + ')');\n      target.postMessage(msgID + message, targetOrigin);\n    }\n\n    if (true === sendPermit) {\n      setTargetOrigin();\n      sendToParent();\n    }\n  }\n\n  function receiver(event) {\n    var processRequestFromParent = {\n      init: function initFromParent() {\n        initMsg = event.data;\n        target = event.source;\n        init();\n        firstRun = false;\n        setTimeout(function () {\n          initLock = false;\n        }, eventCancelTimer);\n      },\n      reset: function resetFromParent() {\n        if (!initLock) {\n          log('Page size reset by host page');\n          triggerReset('resetPage');\n        } else {\n          log('Page reset ignored by init');\n        }\n      },\n      resize: function resizeFromParent() {\n        sendSize('resizeParent', 'Parent window requested size check');\n      },\n      moveToAnchor: function moveToAnchorF() {\n        inPageLinks.findTarget(getData());\n      },\n      inPageLink: function inPageLinkF() {\n        this.moveToAnchor();\n      },\n      //Backward compatability\n      pageInfo: function pageInfoFromParent() {\n        var msgBody = getData();\n        log('PageInfoFromParent called from parent: ' + msgBody);\n        pageInfoCallback(JSON.parse(msgBody));\n        log(' --');\n      },\n      message: function messageFromParent() {\n        var msgBody = getData();\n        log('MessageCallback called from parent: ' + msgBody);\n        messageCallback(JSON.parse(msgBody));\n        log(' --');\n      }\n    };\n\n    function isMessageForUs() {\n      return msgID === ('' + event.data).substr(0, msgIdLen); //''+ Protects against non-string messages\n    }\n\n    function getMessageType() {\n      return event.data.split(']')[1].split(':')[0];\n    }\n\n    function getData() {\n      return event.data.substr(event.data.indexOf(':') + 1);\n    }\n\n    function isMiddleTier() {\n      return !(typeof module !== 'undefined' && module.exports) && 'iFrameResize' in window || 'jQuery' in window && 'iFrameResize' in window.jQuery.prototype;\n    }\n\n    function isInitMsg() {\n      //Test if this message is from a child below us. This is an ugly test, however, updating\n      //the message format would break backwards compatibity.\n      return event.data.split(':')[2] in {\n        true: 1,\n        false: 1\n      };\n    }\n\n    function callFromParent() {\n      var messageType = getMessageType();\n\n      if (messageType in processRequestFromParent) {\n        processRequestFromParent[messageType]();\n      } else if (!isMiddleTier() && !isInitMsg()) {\n        warn('Unexpected message (' + event.data + ')');\n      }\n    }\n\n    function processMessage() {\n      if (false === firstRun) {\n        callFromParent();\n      } else if (isInitMsg()) {\n        processRequestFromParent.init();\n      } else {\n        log('Ignored message of type \"' + getMessageType() + '\". Received before initialization.');\n      }\n    }\n\n    if (isMessageForUs()) {\n      processMessage();\n    }\n  } //Normally the parent kicks things off when it detects the iFrame has loaded.\n  //If this script is async-loaded, then tell parent page to retry init.\n\n\n  function chkLateLoaded() {\n    if ('loading' !== document.readyState) {\n      window.parent.postMessage('[iFrameResizerChild]Ready', '*');\n    }\n  }\n\n  addEventListener(window, 'message', receiver);\n  addEventListener(window, 'readystatechange', chkLateLoaded);\n  chkLateLoaded();\n})();","/*\n * File: iframeResizer.js\n * Desc: Force iframes to size to content.\n * Requires: iframeResizer.contentWindow.js to be loaded into the target frame.\n * Doc: https://github.com/davidjbradshaw/iframe-resizer\n * Author: David J. Bradshaw - dave@bradshaw.net\n * Contributor: Jure Mav - jure.mav@gmail.com\n * Contributor: Reed Dadoune - reed@dadoune.com\n */\n(function (undefined) {\n  'use strict';\n\n  if (typeof window === 'undefined') return; // don't run for server side render\n\n  var count = 0,\n      logEnabled = false,\n      hiddenCheckEnabled = false,\n      msgHeader = 'message',\n      msgHeaderLen = msgHeader.length,\n      msgId = '[iFrameSizer]',\n      //Must match iframe msg ID\n  msgIdLen = msgId.length,\n      pagePosition = null,\n      requestAnimationFrame = window.requestAnimationFrame,\n      resetRequiredMethods = {\n    max: 1,\n    scroll: 1,\n    bodyScroll: 1,\n    documentElementScroll: 1\n  },\n      settings = {},\n      timer = null,\n      logId = 'Host Page',\n      defaults = {\n    autoResize: true,\n    bodyBackground: null,\n    bodyMargin: null,\n    bodyMarginV1: 8,\n    bodyPadding: null,\n    checkOrigin: true,\n    inPageLinks: false,\n    enablePublicMethods: true,\n    heightCalculationMethod: 'bodyOffset',\n    id: 'iFrameResizer',\n    interval: 32,\n    log: false,\n    maxHeight: Infinity,\n    maxWidth: Infinity,\n    minHeight: 0,\n    minWidth: 0,\n    resizeFrom: 'parent',\n    scrolling: false,\n    sizeHeight: true,\n    sizeWidth: false,\n    warningTimeout: 5000,\n    tolerance: 0,\n    widthCalculationMethod: 'scroll',\n    closedCallback: function closedCallback() {},\n    initCallback: function initCallback() {},\n    messageCallback: function messageCallback() {\n      warn('MessageCallback function not defined');\n    },\n    resizedCallback: function resizedCallback() {},\n    scrollCallback: function scrollCallback() {\n      return true;\n    }\n  };\n\n  function getMutationObserver() {\n    return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n  }\n\n  function addEventListener(obj, evt, func) {\n    /* istanbul ignore else */\n    // Not testable in PhantonJS\n    if ('addEventListener' in window) {\n      obj.addEventListener(evt, func, false);\n    } else if ('attachEvent' in window) {\n      //IE\n      obj.attachEvent('on' + evt, func);\n    }\n  }\n\n  function removeEventListener(el, evt, func) {\n    /* istanbul ignore else */\n    // Not testable in phantonJS\n    if ('removeEventListener' in window) {\n      el.removeEventListener(evt, func, false);\n    } else if ('detachEvent' in window) {\n      //IE\n      el.detachEvent('on' + evt, func);\n    }\n  }\n\n  function setupRequestAnimationFrame() {\n    var vendors = ['moz', 'webkit', 'o', 'ms'],\n        x; // Remove vendor prefixing if prefixed and break early if not\n\n    for (x = 0; x < vendors.length && !requestAnimationFrame; x += 1) {\n      requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    }\n\n    if (!requestAnimationFrame) {\n      log('setup', 'RequestAnimationFrame not supported');\n    }\n  }\n\n  function getMyID(iframeId) {\n    var retStr = 'Host page: ' + iframeId;\n\n    if (window.top !== window.self) {\n      if (window.parentIFrame && window.parentIFrame.getId) {\n        retStr = window.parentIFrame.getId() + ': ' + iframeId;\n      } else {\n        retStr = 'Nested host page: ' + iframeId;\n      }\n    }\n\n    return retStr;\n  }\n\n  function formatLogHeader(iframeId) {\n    return msgId + '[' + getMyID(iframeId) + ']';\n  }\n\n  function isLogEnabled(iframeId) {\n    return settings[iframeId] ? settings[iframeId].log : logEnabled;\n  }\n\n  function log(iframeId, msg) {\n    output('log', iframeId, msg, isLogEnabled(iframeId));\n  }\n\n  function info(iframeId, msg) {\n    output('info', iframeId, msg, isLogEnabled(iframeId));\n  }\n\n  function warn(iframeId, msg) {\n    output('warn', iframeId, msg, true);\n  }\n\n  function output(type, iframeId, msg, enabled) {\n    if (true === enabled && 'object' === typeof window.console) {\n      console[type](formatLogHeader(iframeId), msg);\n    }\n  }\n\n  function iFrameListener(event) {\n    function resizeIFrame() {\n      function resize() {\n        setSize(messageData);\n        setPagePosition(iframeId);\n        callback('resizedCallback', messageData);\n      }\n\n      ensureInRange('Height');\n      ensureInRange('Width');\n      syncResize(resize, messageData, 'init');\n    }\n\n    function processMsg() {\n      var data = msg.substr(msgIdLen).split(':');\n      return {\n        iframe: settings[data[0]] && settings[data[0]].iframe,\n        id: data[0],\n        height: data[1],\n        width: data[2],\n        type: data[3]\n      };\n    }\n\n    function ensureInRange(Dimension) {\n      var max = Number(settings[iframeId]['max' + Dimension]),\n          min = Number(settings[iframeId]['min' + Dimension]),\n          dimension = Dimension.toLowerCase(),\n          size = Number(messageData[dimension]);\n      log(iframeId, 'Checking ' + dimension + ' is in range ' + min + '-' + max);\n\n      if (size < min) {\n        size = min;\n        log(iframeId, 'Set ' + dimension + ' to min value');\n      }\n\n      if (size > max) {\n        size = max;\n        log(iframeId, 'Set ' + dimension + ' to max value');\n      }\n\n      messageData[dimension] = '' + size;\n    }\n\n    function isMessageFromIFrame() {\n      function checkAllowedOrigin() {\n        function checkList() {\n          var i = 0,\n              retCode = false;\n          log(iframeId, 'Checking connection is from allowed list of origins: ' + checkOrigin);\n\n          for (; i < checkOrigin.length; i++) {\n            if (checkOrigin[i] === origin) {\n              retCode = true;\n              break;\n            }\n          }\n\n          return retCode;\n        }\n\n        function checkSingle() {\n          var remoteHost = settings[iframeId] && settings[iframeId].remoteHost;\n          log(iframeId, 'Checking connection is from: ' + remoteHost);\n          return origin === remoteHost;\n        }\n\n        return checkOrigin.constructor === Array ? checkList() : checkSingle();\n      }\n\n      var origin = event.origin,\n          checkOrigin = settings[iframeId] && settings[iframeId].checkOrigin;\n\n      if (checkOrigin && '' + origin !== 'null' && !checkAllowedOrigin()) {\n        throw new Error('Unexpected message received from: ' + origin + ' for ' + messageData.iframe.id + '. Message was: ' + event.data + '. This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.');\n      }\n\n      return true;\n    }\n\n    function isMessageForUs() {\n      return msgId === ('' + msg).substr(0, msgIdLen) && msg.substr(msgIdLen).split(':')[0] in settings; //''+Protects against non-string msg\n    }\n\n    function isMessageFromMetaParent() {\n      //Test if this message is from a parent above us. This is an ugly test, however, updating\n      //the message format would break backwards compatibity.\n      var retCode = (messageData.type in {\n        true: 1,\n        false: 1,\n        undefined: 1\n      });\n\n      if (retCode) {\n        log(iframeId, 'Ignoring init message from meta parent page');\n      }\n\n      return retCode;\n    }\n\n    function getMsgBody(offset) {\n      return msg.substr(msg.indexOf(':') + msgHeaderLen + offset);\n    }\n\n    function forwardMsgFromIFrame(msgBody) {\n      log(iframeId, 'MessageCallback passed: {iframe: ' + messageData.iframe.id + ', message: ' + msgBody + '}');\n      callback('messageCallback', {\n        iframe: messageData.iframe,\n        message: JSON.parse(msgBody)\n      });\n      log(iframeId, '--');\n    }\n\n    function getPageInfo() {\n      var bodyPosition = document.body.getBoundingClientRect(),\n          iFramePosition = messageData.iframe.getBoundingClientRect();\n      return JSON.stringify({\n        iframeHeight: iFramePosition.height,\n        iframeWidth: iFramePosition.width,\n        clientHeight: Math.max(document.documentElement.clientHeight, window.innerHeight || 0),\n        clientWidth: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),\n        offsetTop: parseInt(iFramePosition.top - bodyPosition.top, 10),\n        offsetLeft: parseInt(iFramePosition.left - bodyPosition.left, 10),\n        scrollTop: window.pageYOffset,\n        scrollLeft: window.pageXOffset\n      });\n    }\n\n    function sendPageInfoToIframe(iframe, iframeId) {\n      function debouncedTrigger() {\n        trigger('Send Page Info', 'pageInfo:' + getPageInfo(), iframe, iframeId);\n      }\n\n      debounceFrameEvents(debouncedTrigger, 32, iframeId);\n    }\n\n    function startPageInfoMonitor() {\n      function setListener(type, func) {\n        function sendPageInfo() {\n          if (settings[id]) {\n            sendPageInfoToIframe(settings[id].iframe, id);\n          } else {\n            stop();\n          }\n        }\n\n        ['scroll', 'resize'].forEach(function (evt) {\n          log(id, type + evt + ' listener for sendPageInfo');\n          func(window, evt, sendPageInfo);\n        });\n      }\n\n      function stop() {\n        setListener('Remove ', removeEventListener);\n      }\n\n      function start() {\n        setListener('Add ', addEventListener);\n      }\n\n      var id = iframeId; //Create locally scoped copy of iFrame ID\n\n      start();\n\n      if (settings[id]) {\n        settings[id].stopPageInfo = stop;\n      }\n    }\n\n    function stopPageInfoMonitor() {\n      if (settings[iframeId] && settings[iframeId].stopPageInfo) {\n        settings[iframeId].stopPageInfo();\n        delete settings[iframeId].stopPageInfo;\n      }\n    }\n\n    function checkIFrameExists() {\n      var retBool = true;\n\n      if (null === messageData.iframe) {\n        warn(iframeId, 'IFrame (' + messageData.id + ') not found');\n        retBool = false;\n      }\n\n      return retBool;\n    }\n\n    function getElementPosition(target) {\n      var iFramePosition = target.getBoundingClientRect();\n      getPagePosition(iframeId);\n      return {\n        x: Math.floor(Number(iFramePosition.left) + Number(pagePosition.x)),\n        y: Math.floor(Number(iFramePosition.top) + Number(pagePosition.y))\n      };\n    }\n\n    function scrollRequestFromChild(addOffset) {\n      /* istanbul ignore next */\n      //Not testable in Karma\n      function reposition() {\n        pagePosition = newPosition;\n        scrollTo();\n        log(iframeId, '--');\n      }\n\n      function calcOffset() {\n        return {\n          x: Number(messageData.width) + offset.x,\n          y: Number(messageData.height) + offset.y\n        };\n      }\n\n      function scrollParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame['scrollTo' + (addOffset ? 'Offset' : '')](newPosition.x, newPosition.y);\n        } else {\n          warn(iframeId, 'Unable to scroll to requested position, window.parentIFrame not found');\n        }\n      }\n\n      var offset = addOffset ? getElementPosition(messageData.iframe) : {\n        x: 0,\n        y: 0\n      },\n          newPosition = calcOffset();\n      log(iframeId, 'Reposition requested from iFrame (offset x:' + offset.x + ' y:' + offset.y + ')');\n\n      if (window.top !== window.self) {\n        scrollParent();\n      } else {\n        reposition();\n      }\n    }\n\n    function scrollTo() {\n      if (false !== callback('scrollCallback', pagePosition)) {\n        setPagePosition(iframeId);\n      } else {\n        unsetPagePosition();\n      }\n    }\n\n    function findTarget(location) {\n      function jumpToTarget() {\n        var jumpPosition = getElementPosition(target);\n        log(iframeId, 'Moving to in page link (#' + hash + ') at x: ' + jumpPosition.x + ' y: ' + jumpPosition.y);\n        pagePosition = {\n          x: jumpPosition.x,\n          y: jumpPosition.y\n        };\n        scrollTo();\n        log(iframeId, '--');\n      }\n\n      function jumpToParent() {\n        if (window.parentIFrame) {\n          window.parentIFrame.moveToAnchor(hash);\n        } else {\n          log(iframeId, 'In page link #' + hash + ' not found and window.parentIFrame not found');\n        }\n      }\n\n      var hash = location.split('#')[1] || '',\n          hashData = decodeURIComponent(hash),\n          target = document.getElementById(hashData) || document.getElementsByName(hashData)[0];\n\n      if (target) {\n        jumpToTarget();\n      } else if (window.top !== window.self) {\n        jumpToParent();\n      } else {\n        log(iframeId, 'In page link #' + hash + ' not found');\n      }\n    }\n\n    function callback(funcName, val) {\n      return chkCallback(iframeId, funcName, val);\n    }\n\n    function actionMsg() {\n      if (settings[iframeId] && settings[iframeId].firstRun) firstRun();\n\n      switch (messageData.type) {\n        case 'close':\n          if (settings[iframeId].closeRequestCallback) chkCallback(iframeId, 'closeRequestCallback', settings[iframeId].iframe);else closeIFrame(messageData.iframe);\n          break;\n\n        case 'message':\n          forwardMsgFromIFrame(getMsgBody(6));\n          break;\n\n        case 'scrollTo':\n          scrollRequestFromChild(false);\n          break;\n\n        case 'scrollToOffset':\n          scrollRequestFromChild(true);\n          break;\n\n        case 'pageInfo':\n          sendPageInfoToIframe(settings[iframeId] && settings[iframeId].iframe, iframeId);\n          startPageInfoMonitor();\n          break;\n\n        case 'pageInfoStop':\n          stopPageInfoMonitor();\n          break;\n\n        case 'inPageLink':\n          findTarget(getMsgBody(9));\n          break;\n\n        case 'reset':\n          resetIFrame(messageData);\n          break;\n\n        case 'init':\n          resizeIFrame();\n          callback('initCallback', messageData.iframe);\n          break;\n\n        default:\n          resizeIFrame();\n      }\n    }\n\n    function hasSettings(iframeId) {\n      var retBool = true;\n\n      if (!settings[iframeId]) {\n        retBool = false;\n        warn(messageData.type + ' No settings for ' + iframeId + '. Message was: ' + msg);\n      }\n\n      return retBool;\n    }\n\n    function iFrameReadyMsgReceived() {\n      for (var iframeId in settings) {\n        trigger('iFrame requested init', createOutgoingMsg(iframeId), document.getElementById(iframeId), iframeId);\n      }\n    }\n\n    function firstRun() {\n      if (settings[iframeId]) {\n        settings[iframeId].firstRun = false;\n      }\n    }\n\n    function clearWarningTimeout() {\n      if (settings[iframeId]) {\n        clearTimeout(settings[iframeId].msgTimeout);\n        settings[iframeId].warningTimeout = 0;\n      }\n    }\n\n    var msg = event.data,\n        messageData = {},\n        iframeId = null;\n\n    if ('[iFrameResizerChild]Ready' === msg) {\n      iFrameReadyMsgReceived();\n    } else if (isMessageForUs()) {\n      messageData = processMsg();\n      iframeId = logId = messageData.id;\n\n      if (settings[iframeId]) {\n        settings[iframeId].loaded = true;\n      }\n\n      if (!isMessageFromMetaParent() && hasSettings(iframeId)) {\n        log(iframeId, 'Received: ' + msg);\n\n        if (checkIFrameExists() && isMessageFromIFrame()) {\n          actionMsg();\n        }\n      }\n    } else {\n      info(iframeId, 'Ignored: ' + msg);\n    }\n  }\n\n  function chkCallback(iframeId, funcName, val) {\n    var func = null,\n        retVal = null;\n\n    if (settings[iframeId]) {\n      func = settings[iframeId][funcName];\n\n      if ('function' === typeof func) {\n        retVal = func(val);\n      } else {\n        throw new TypeError(funcName + ' on iFrame[' + iframeId + '] is not a function');\n      }\n    }\n\n    return retVal;\n  }\n\n  function removeIframeListeners(iframe) {\n    var iframeId = iframe.id;\n    delete settings[iframeId];\n  }\n\n  function closeIFrame(iframe) {\n    var iframeId = iframe.id;\n    log(iframeId, 'Removing iFrame: ' + iframeId);\n\n    try {\n      // Catch race condition error with React\n      if (iframe.parentNode) {\n        iframe.parentNode.removeChild(iframe);\n      }\n    } catch (e) {}\n\n    chkCallback(iframeId, 'closedCallback', iframeId);\n    log(iframeId, '--');\n    removeIframeListeners(iframe);\n  }\n\n  function getPagePosition(iframeId) {\n    if (null === pagePosition) {\n      pagePosition = {\n        x: window.pageXOffset !== undefined ? window.pageXOffset : document.documentElement.scrollLeft,\n        y: window.pageYOffset !== undefined ? window.pageYOffset : document.documentElement.scrollTop\n      };\n      log(iframeId, 'Get page position: ' + pagePosition.x + ',' + pagePosition.y);\n    }\n  }\n\n  function setPagePosition(iframeId) {\n    if (null !== pagePosition) {\n      window.scrollTo(pagePosition.x, pagePosition.y);\n      log(iframeId, 'Set page position: ' + pagePosition.x + ',' + pagePosition.y);\n      unsetPagePosition();\n    }\n  }\n\n  function unsetPagePosition() {\n    pagePosition = null;\n  }\n\n  function resetIFrame(messageData) {\n    function reset() {\n      setSize(messageData);\n      trigger('reset', 'reset', messageData.iframe, messageData.id);\n    }\n\n    log(messageData.id, 'Size reset requested by ' + ('init' === messageData.type ? 'host page' : 'iFrame'));\n    getPagePosition(messageData.id);\n    syncResize(reset, messageData, 'reset');\n  }\n\n  function setSize(messageData) {\n    function setDimension(dimension) {\n      if (!messageData.id) {\n        log('undefined', 'messageData id not set');\n        return;\n      }\n\n      messageData.iframe.style[dimension] = messageData[dimension] + 'px';\n      log(messageData.id, 'IFrame (' + iframeId + ') ' + dimension + ' set to ' + messageData[dimension] + 'px');\n    }\n\n    function chkZero(dimension) {\n      //FireFox sets dimension of hidden iFrames to zero.\n      //So if we detect that set up an event to check for\n      //when iFrame becomes visible.\n\n      /* istanbul ignore next */\n      //Not testable in PhantomJS\n      if (!hiddenCheckEnabled && '0' === messageData[dimension]) {\n        hiddenCheckEnabled = true;\n        log(iframeId, 'Hidden iFrame detected, creating visibility listener');\n        fixHiddenIFrames();\n      }\n    }\n\n    function processDimension(dimension) {\n      setDimension(dimension);\n      chkZero(dimension);\n    }\n\n    var iframeId = messageData.iframe.id;\n\n    if (settings[iframeId]) {\n      if (settings[iframeId].sizeHeight) {\n        processDimension('height');\n      }\n\n      if (settings[iframeId].sizeWidth) {\n        processDimension('width');\n      }\n    }\n  }\n\n  function syncResize(func, messageData, doNotSync) {\n    /* istanbul ignore if */\n    //Not testable in PhantomJS\n    if (doNotSync !== messageData.type && requestAnimationFrame) {\n      log(messageData.id, 'Requesting animation frame');\n      requestAnimationFrame(func);\n    } else {\n      func();\n    }\n  }\n\n  function trigger(calleeMsg, msg, iframe, id, noResponseWarning) {\n    function postMessageToIFrame() {\n      var target = settings[id] && settings[id].targetOrigin;\n      log(id, '[' + calleeMsg + '] Sending msg to iframe[' + id + '] (' + msg + ') targetOrigin: ' + target);\n      iframe.contentWindow.postMessage(msgId + msg, target);\n    }\n\n    function iFrameNotFound() {\n      warn(id, '[' + calleeMsg + '] IFrame(' + id + ') not found');\n    }\n\n    function chkAndSend() {\n      if (iframe && 'contentWindow' in iframe && null !== iframe.contentWindow) {\n        //Null test for PhantomJS\n        postMessageToIFrame();\n      } else {\n        iFrameNotFound();\n      }\n    }\n\n    function warnOnNoResponse() {\n      function warning() {\n        if (settings[id] && !settings[id].loaded && !errorShown) {\n          errorShown = true;\n          warn(id, 'IFrame has not responded within ' + settings[id].warningTimeout / 1000 + ' seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.');\n        }\n      }\n\n      if (!!noResponseWarning && settings[id] && !!settings[id].warningTimeout) {\n        settings[id].msgTimeout = setTimeout(warning, settings[id].warningTimeout);\n      }\n    }\n\n    var errorShown = false;\n    id = id || iframe.id;\n\n    if (settings[id]) {\n      chkAndSend();\n      warnOnNoResponse();\n    }\n  }\n\n  function createOutgoingMsg(iframeId) {\n    return iframeId + ':' + settings[iframeId].bodyMarginV1 + ':' + settings[iframeId].sizeWidth + ':' + settings[iframeId].log + ':' + settings[iframeId].interval + ':' + settings[iframeId].enablePublicMethods + ':' + settings[iframeId].autoResize + ':' + settings[iframeId].bodyMargin + ':' + settings[iframeId].heightCalculationMethod + ':' + settings[iframeId].bodyBackground + ':' + settings[iframeId].bodyPadding + ':' + settings[iframeId].tolerance + ':' + settings[iframeId].inPageLinks + ':' + settings[iframeId].resizeFrom + ':' + settings[iframeId].widthCalculationMethod;\n  }\n\n  function setupIFrame(iframe, options) {\n    function setLimits() {\n      function addStyle(style) {\n        if (Infinity !== settings[iframeId][style] && 0 !== settings[iframeId][style]) {\n          iframe.style[style] = settings[iframeId][style] + 'px';\n          log(iframeId, 'Set ' + style + ' = ' + settings[iframeId][style] + 'px');\n        }\n      }\n\n      function chkMinMax(dimension) {\n        if (settings[iframeId]['min' + dimension] > settings[iframeId]['max' + dimension]) {\n          throw new Error('Value for min' + dimension + ' can not be greater than max' + dimension);\n        }\n      }\n\n      chkMinMax('Height');\n      chkMinMax('Width');\n      addStyle('maxHeight');\n      addStyle('minHeight');\n      addStyle('maxWidth');\n      addStyle('minWidth');\n    }\n\n    function newId() {\n      var id = options && options.id || defaults.id + count++;\n\n      if (null !== document.getElementById(id)) {\n        id = id + count++;\n      }\n\n      return id;\n    }\n\n    function ensureHasId(iframeId) {\n      logId = iframeId;\n\n      if ('' === iframeId) {\n        iframe.id = iframeId = newId();\n        logEnabled = (options || {}).log;\n        logId = iframeId;\n        log(iframeId, 'Added missing iframe ID: ' + iframeId + ' (' + iframe.src + ')');\n      }\n\n      return iframeId;\n    }\n\n    function setScrolling() {\n      log(iframeId, 'IFrame scrolling ' + (settings[iframeId] && settings[iframeId].scrolling ? 'enabled' : 'disabled') + ' for ' + iframeId);\n      iframe.style.overflow = false === (settings[iframeId] && settings[iframeId].scrolling) ? 'hidden' : 'auto';\n\n      switch (settings[iframeId] && settings[iframeId].scrolling) {\n        case 'omit':\n          break;\n\n        case true:\n          iframe.scrolling = 'yes';\n          break;\n\n        case false:\n          iframe.scrolling = 'no';\n          break;\n\n        default:\n          iframe.scrolling = settings[iframeId] ? settings[iframeId].scrolling : 'no';\n      }\n    } //The V1 iFrame script expects an int, where as in V2 expects a CSS\n    //string value such as '1px 3em', so if we have an int for V2, set V1=V2\n    //and then convert V2 to a string PX value.\n\n\n    function setupBodyMarginValues() {\n      if ('number' === typeof (settings[iframeId] && settings[iframeId].bodyMargin) || '0' === (settings[iframeId] && settings[iframeId].bodyMargin)) {\n        settings[iframeId].bodyMarginV1 = settings[iframeId].bodyMargin;\n        settings[iframeId].bodyMargin = '' + settings[iframeId].bodyMargin + 'px';\n      }\n    }\n\n    function checkReset() {\n      // Reduce scope of firstRun to function, because IE8's JS execution\n      // context stack is borked and this value gets externally\n      // changed midway through running this function!!!\n      var firstRun = settings[iframeId] && settings[iframeId].firstRun,\n          resetRequertMethod = settings[iframeId] && settings[iframeId].heightCalculationMethod in resetRequiredMethods;\n\n      if (!firstRun && resetRequertMethod) {\n        resetIFrame({\n          iframe: iframe,\n          height: 0,\n          width: 0,\n          type: 'init'\n        });\n      }\n    }\n\n    function setupIFrameObject() {\n      if (Function.prototype.bind && settings[iframeId]) {\n        //Ignore unpolyfilled IE8.\n        settings[iframeId].iframe.iFrameResizer = {\n          close: closeIFrame.bind(null, settings[iframeId].iframe),\n          removeListeners: removeIframeListeners.bind(null, settings[iframeId].iframe),\n          resize: trigger.bind(null, 'Window resize', 'resize', settings[iframeId].iframe),\n          moveToAnchor: function moveToAnchor(anchor) {\n            trigger('Move to anchor', 'moveToAnchor:' + anchor, settings[iframeId].iframe, iframeId);\n          },\n          sendMessage: function sendMessage(message) {\n            message = JSON.stringify(message);\n            trigger('Send Message', 'message:' + message, settings[iframeId].iframe, iframeId);\n          }\n        };\n      }\n    } //We have to call trigger twice, as we can not be sure if all\n    //iframes have completed loading when this code runs. The\n    //event listener also catches the page changing in the iFrame.\n\n\n    function init(msg) {\n      function iFrameLoaded() {\n        trigger('iFrame.onload', msg, iframe, undefined, true);\n        checkReset();\n      }\n\n      function createDestroyObserver(MutationObserver) {\n        if (!iframe.parentNode) {\n          return;\n        }\n\n        var destroyObserver = new MutationObserver(function (mutations) {\n          mutations.forEach(function (mutation) {\n            var removedNodes = Array.prototype.slice.call(mutation.removedNodes); // Transform NodeList into an Array\n\n            removedNodes.forEach(function (removedNode) {\n              if (removedNode === iframe) {\n                closeIFrame(iframe);\n              }\n            });\n          });\n        });\n        destroyObserver.observe(iframe.parentNode, {\n          childList: true\n        });\n      }\n\n      var MutationObserver = getMutationObserver();\n\n      if (MutationObserver) {\n        createDestroyObserver(MutationObserver);\n      }\n\n      addEventListener(iframe, 'load', iFrameLoaded);\n      trigger('init', msg, iframe, undefined, true);\n    }\n\n    function checkOptions(options) {\n      if ('object' !== typeof options) {\n        throw new TypeError('Options is not an object');\n      }\n    }\n\n    function copyOptions(options) {\n      for (var option in defaults) {\n        if (defaults.hasOwnProperty(option)) {\n          settings[iframeId][option] = options.hasOwnProperty(option) ? options[option] : defaults[option];\n        }\n      }\n    }\n\n    function getTargetOrigin(remoteHost) {\n      return '' === remoteHost || 'file://' === remoteHost ? '*' : remoteHost;\n    }\n\n    function processOptions(options) {\n      options = options || {};\n      settings[iframeId] = {\n        firstRun: true,\n        iframe: iframe,\n        remoteHost: iframe.src.split('/').slice(0, 3).join('/')\n      };\n      checkOptions(options);\n      copyOptions(options);\n\n      if (settings[iframeId]) {\n        settings[iframeId].targetOrigin = true === settings[iframeId].checkOrigin ? getTargetOrigin(settings[iframeId].remoteHost) : '*';\n      }\n    }\n\n    function beenHere() {\n      return iframeId in settings && 'iFrameResizer' in iframe;\n    }\n\n    var iframeId = ensureHasId(iframe.id);\n\n    if (!beenHere()) {\n      processOptions(options);\n      setScrolling();\n      setLimits();\n      setupBodyMarginValues();\n      init(createOutgoingMsg(iframeId));\n      setupIFrameObject();\n    } else {\n      warn(iframeId, 'Ignored iFrame, already setup.');\n    }\n  }\n\n  function debouce(fn, time) {\n    if (null === timer) {\n      timer = setTimeout(function () {\n        timer = null;\n        fn();\n      }, time);\n    }\n  }\n\n  var frameTimer = {};\n\n  function debounceFrameEvents(fn, time, frameId) {\n    if (!frameTimer[frameId]) {\n      frameTimer[frameId] = setTimeout(function () {\n        frameTimer[frameId] = null;\n        fn();\n      }, time);\n    }\n  } //Not testable in PhantomJS\n\n  /* istanbul ignore next */\n\n\n  function fixHiddenIFrames() {\n    function checkIFrames() {\n      function checkIFrame(settingId) {\n        function chkDimension(dimension) {\n          return '0px' === (settings[settingId] && settings[settingId].iframe.style[dimension]);\n        }\n\n        function isVisible(el) {\n          return null !== el.offsetParent;\n        }\n\n        if (settings[settingId] && isVisible(settings[settingId].iframe) && (chkDimension('height') || chkDimension('width'))) {\n          trigger('Visibility change', 'resize', settings[settingId].iframe, settingId);\n        }\n      }\n\n      for (var settingId in settings) {\n        checkIFrame(settingId);\n      }\n    }\n\n    function mutationObserved(mutations) {\n      log('window', 'Mutation observed: ' + mutations[0].target + ' ' + mutations[0].type);\n      debouce(checkIFrames, 16);\n    }\n\n    function createMutationObserver() {\n      var target = document.querySelector('body'),\n          config = {\n        attributes: true,\n        attributeOldValue: false,\n        characterData: true,\n        characterDataOldValue: false,\n        childList: true,\n        subtree: true\n      },\n          observer = new MutationObserver(mutationObserved);\n      observer.observe(target, config);\n    }\n\n    var MutationObserver = getMutationObserver();\n\n    if (MutationObserver) {\n      createMutationObserver();\n    }\n  }\n\n  function resizeIFrames(event) {\n    function resize() {\n      sendTriggerMsg('Window ' + event, 'resize');\n    }\n\n    log('window', 'Trigger event: ' + event);\n    debouce(resize, 16);\n  } //Not testable in PhantomJS\n\n  /* istanbul ignore next */\n\n\n  function tabVisible() {\n    function resize() {\n      sendTriggerMsg('Tab Visable', 'resize');\n    }\n\n    if ('hidden' !== document.visibilityState) {\n      log('document', 'Trigger event: Visiblity change');\n      debouce(resize, 16);\n    }\n  }\n\n  function sendTriggerMsg(eventName, event) {\n    function isIFrameResizeEnabled(iframeId) {\n      return settings[iframeId] && 'parent' === settings[iframeId].resizeFrom && settings[iframeId].autoResize && !settings[iframeId].firstRun;\n    }\n\n    for (var iframeId in settings) {\n      if (isIFrameResizeEnabled(iframeId)) {\n        trigger(eventName, event, document.getElementById(iframeId), iframeId);\n      }\n    }\n  }\n\n  function setupEventListeners() {\n    addEventListener(window, 'message', iFrameListener);\n    addEventListener(window, 'resize', function () {\n      resizeIFrames('resize');\n    });\n    addEventListener(document, 'visibilitychange', tabVisible);\n    addEventListener(document, '-webkit-visibilitychange', tabVisible); //Andriod 4.4\n\n    addEventListener(window, 'focusin', function () {\n      resizeIFrames('focus');\n    }); //IE8-9\n\n    addEventListener(window, 'focus', function () {\n      resizeIFrames('focus');\n    });\n  }\n\n  function factory() {\n    function init(options, element) {\n      function chkType() {\n        if (!element.tagName) {\n          throw new TypeError('Object is not a valid DOM element');\n        } else if ('IFRAME' !== element.tagName.toUpperCase()) {\n          throw new TypeError('Expected <IFRAME> tag, found <' + element.tagName + '>');\n        }\n      }\n\n      if (element) {\n        chkType();\n        setupIFrame(element, options);\n        iFrames.push(element);\n      }\n    }\n\n    function warnDeprecatedOptions(options) {\n      if (options && options.enablePublicMethods) {\n        warn('enablePublicMethods option has been removed, public methods are now always available in the iFrame');\n      }\n    }\n\n    var iFrames;\n    setupRequestAnimationFrame();\n    setupEventListeners();\n    return function iFrameResizeF(options, target) {\n      iFrames = []; //Only return iFrames past in on this call\n\n      warnDeprecatedOptions(options);\n\n      switch (typeof target) {\n        case 'undefined':\n        case 'string':\n          Array.prototype.forEach.call(document.querySelectorAll(target || 'iframe'), init.bind(undefined, options));\n          break;\n\n        case 'object':\n          init(options, target);\n          break;\n\n        default:\n          throw new TypeError('Unexpected data type (' + typeof target + ')');\n      }\n\n      return iFrames;\n    };\n  }\n\n  function createJQueryPublicMethod($) {\n    if (!$.fn) {\n      info('', 'Unable to bind to jQuery, it is not fully loaded.');\n    } else if (!$.fn.iFrameResize) {\n      $.fn.iFrameResize = function $iFrameResizeF(options) {\n        function init(index, element) {\n          setupIFrame(element, options);\n        }\n\n        return this.filter('iframe').each(init).end();\n      };\n    }\n  }\n\n  if (window.jQuery) {\n    createJQueryPublicMethod(window.jQuery);\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    //Node for browserfy\n    module.exports = factory();\n  }\n\n  window.iFrameResize = window.iFrameResize || factory();\n})();","exports.iframeResizer = require('./iframeResizer');\nexports.iframeResizerContentWindow = require('./iframeResizer.contentWindow');","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _iframeResizer = require(\"iframe-resizer\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction getRemarkboxUrl(remarkboxKey, threadUri, threadTitle) {\n  return \"https://my.remarkbox.com/embed?rb_owner_key=\".concat(remarkboxKey, \"&thread_title=\").concat(encodeURIComponent(threadTitle), \"&thread_uri=\").concat(encodeURIComponent(threadUri));\n}\n\nvar Remarkbox = /*#__PURE__*/function (_Component) {\n  _inherits(Remarkbox, _Component);\n\n  var _super = _createSuper(Remarkbox);\n\n  function Remarkbox() {\n    var _this;\n\n    _classCallCheck(this, Remarkbox);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"iframe\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"onRef\", function (iframe) {\n      _this.iframe = iframe;\n    });\n\n    return _this;\n  }\n\n  _createClass(Remarkbox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.iframe) {\n        return;\n      }\n\n      var threadFragment = this.props.threadFragment;\n      (0, _iframeResizer.iframeResizer)({\n        checkOrigin: ['https://my.remarkbox.com'],\n        inPageLinks: true,\n        initCallback: function initCallback(event) {\n          if (threadFragment) {\n            event.iFrameResizer.moveToAnchor(threadFragment);\n          }\n        }\n      }, this.iframe);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          remarkboxKey = _this$props.remarkboxKey,\n          style = _this$props.style,\n          threadTitle = _this$props.threadTitle,\n          threadUri = _this$props.threadUri;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"iframe\", {\n        className: className,\n        frameBorder: 0,\n        ref: this.onRef,\n        scrolling: 'no',\n        src: getRemarkboxUrl(remarkboxKey, threadUri, threadTitle),\n        style: style,\n        tabIndex: 0,\n        title: 'Remarkbox'\n      });\n    }\n  }]);\n\n  return Remarkbox;\n}(_react.Component);\n\n_defineProperty(Remarkbox, \"propTypes\", {\n  className: _propTypes[\"default\"].string,\n  remarkboxKey: _propTypes[\"default\"].string.isRequired,\n  style: _propTypes[\"default\"].object,\n  threadFragment: _propTypes[\"default\"].string,\n  threadTitle: _propTypes[\"default\"].string.isRequired,\n  threadUri: _propTypes[\"default\"].string.isRequired\n});\n\nvar _default = Remarkbox;\nexports[\"default\"] = _default;","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport SEO from \"../components/seo.js\"\n\nimport Remarkbox from 'react-remarkbox';\n\nimport '../styles/skeleton.min.css'\nimport '../styles/home.css'\n\nimport 'katex/dist/katex.min.css'\n\nclass BlogPostTemplate extends React.Component {\n  render() {\n    const post = this.props.data.markdownRemark\n    const slug = this.props.path;\n    // const { previous, next } = this.props.pageContext\n    return (\n      <div>\n        <SEO\n          title={post.frontmatter.title}\n          description={post.frontmatter.description || post.excerpt}\n        />\n        <div className=\"container\">\n          <div className=\"row medium-separation\">\n            <div className=\"twelve columns\">\n              <h2 className=\"profile-heading\">David's Musings</h2>\n              <Link to=\"/blog\">← View more posts</Link>\n              <hr/>\n            </div>\n          </div>\n          <div className=\"row small-separation\">\n            <div className=\"twelve columns\">\n              <article>\n                <header>\n                  <div className=\"row\">\n                    <div className=\"six columns\">\n                      <h3>\n                        {post.frontmatter.title}\n                      </h3>\n                    </div>\n                    <div className=\"six columns\">\n                      <p className=\"grey right-on-large\">\n                        {post.frontmatter.date}\n                      </p>\n                    </div>\n                  </div>\n                </header>\n                <section dangerouslySetInnerHTML={{ __html: post.html }} />\n              </article>\n            </div>\n          </div>\n          <div className=\"row small-separation\">\n            <div className=\"twelve columns\">\n              <Remarkbox\n                remarkboxKey={'c6fc9353-1776-11ea-8c00-040140774501'}\n                threadUri={`http://dmhacker.github.io${slug}`}\n                threadTitle={post.frontmatter.title}\n                className=\"full-width\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        description\n      }\n    }\n  }\n`\n"],"names":["module","exports","undefined","window","autoResize","bodyBackground","bodyMargin","bodyMarginStr","bodyObserver","bodyPadding","calculateWidth","doubleEventList","resize","click","eventCancelTimer","firstRun","height","heightCalcModeDefault","heightCalcMode","initLock","initMsg","inPageLinks","interval","intervalTimer","logging","msgID","msgIdLen","length","myID","resetRequiredMethods","max","min","bodyScroll","documentElementScroll","resizeFrom","sendPermit","target","parent","targetOriginDefault","tolerance","triggerLocked","triggerLockedTimer","throttledTimer","width","widthCalcModeDefault","widthCalcMode","win","messageCallback","warn","readyCallback","pageInfoCallback","customCalcMethods","document","documentElement","offsetHeight","body","scrollWidth","eventHandlersByName","passiveSupported","options","Object","create","passive","get","once","addEventListener","noop","removeEventListener","e","func","context","args","result","timeout","previous","later","getNow","Date","now","getTime","getHeight","bodyOffset","getComputedStyle","offset","scrollHeight","custom","documentElementOffset","Math","apply","getAllMeasurements","grow","lowestElement","getMaxElement","getAllElements","taggedElement","getTaggedElements","getWidth","offsetWidth","scroll","rightMostElement","sizeIFrameThrottled","sizeIFrame","remaining","this","arguments","clearTimeout","setTimeout","receiver","chkLateLoaded","el","evt","attachEvent","detachEvent","capitalizeFirstLetter","string","charAt","toUpperCase","slice","formatLogMsg","msg","log","console","init","clearFix","strBool","str","data","substr","split","Number","enable","readDataFromParent","location","href","readData","iFrameResizer","JSON","stringify","targetOrigin","heightCalculationMethod","widthCalculationMethod","setupCustomCalcMethods","calcMode","calcFunc","constructor","readDataFromPage","setBodyStyle","attr","value","indexOf","chkCSS","setMargin","createElement","style","clear","display","appendChild","checkHeightMode","checkWidthMode","parentIFrame","startEventListeners","stopEventListeners","close","sendMsg","getId","getPageInfo","callback","moveToAnchor","hash","findTarget","reset","resetIFrame","scrollTo","x","y","scrollToOffset","sendMessage","setHeightCalculationMethod","setWidthCalculationMethod","setTargetOrigin","size","customHeight","customWidth","sendSize","getPagePosition","pageXOffset","scrollLeft","pageYOffset","scrollTop","getElementPosition","elPosition","getBoundingClientRect","pagePosition","parseInt","left","top","jumpToTarget","jumpPosition","hashData","decodeURIComponent","getElementById","getElementsByName","checkLocationHash","bindAnchors","setupLink","linkClicked","preventDefault","getAttribute","Array","prototype","forEach","call","querySelectorAll","bindLocationHash","initCheck","enableInPageLinks","setupInPageLinks","manageTriggerEvent","listener","add","eventName","handleEvent","eventType","remove","eventNames","map","method","manageEventListeners","checkCalcMode","calcModeDefault","modes","type","forceIntervalTimer","MutationObserver","WebKitMutationObserver","initInterval","addImageLoadListners","mutation","addImageLoadListener","element","complete","src","imageLoaded","imageError","elements","push","attributeName","removeFromArray","splice","removeImageLoadListener","imageEventTriggered","event","typeDesc","mutationObserved","mutations","createMutationObserver","querySelector","config","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","observer","observe","disconnect","setupBodyMutationObserver","clearInterval","setInterval","abs","prop","retVal","defaultView","test","runtimeStyle","currentStyle","pixelLeft","convertUnitsToPxForIE8","side","elementsLength","elVal","maxVal","Side","timer","i","chkEventThottle","dimention","tag","triggerEvent","triggerEventDesc","currentHeight","currentWidth","checkTolarance","a","b","isSizeChangeDetected","lockTrigger","resetPage","triggerReset","hcm","message","postMessage","processRequestFromParent","source","getData","inPageLink","pageInfo","msgBody","parse","getMessageType","isInitMsg","true","false","callFromParent","messageType","jQuery","readyState","$","count","logEnabled","hiddenCheckEnabled","msgHeaderLen","msgId","requestAnimationFrame","settings","defaults","bodyMarginV1","checkOrigin","enablePublicMethods","id","maxHeight","Infinity","maxWidth","minHeight","minWidth","scrolling","sizeHeight","sizeWidth","warningTimeout","closedCallback","initCallback","resizedCallback","scrollCallback","frameTimer","fn","iFrameResize","filter","each","index","setupIFrame","end","info","factory","getMutationObserver","MozMutationObserver","obj","formatLogHeader","iframeId","retStr","self","getMyID","isLogEnabled","output","enabled","iFrameListener","resizeIFrame","ensureInRange","syncResize","setSize","messageData","setPagePosition","Dimension","dimension","toLowerCase","getMsgBody","sendPageInfoToIframe","iframe","time","frameId","bodyPosition","iFramePosition","trigger","iframeHeight","iframeWidth","clientHeight","innerHeight","clientWidth","innerWidth","offsetTop","offsetLeft","floor","scrollRequestFromChild","addOffset","newPosition","unsetPagePosition","funcName","val","chkCallback","retBool","retCode","createOutgoingMsg","iFrameReadyMsgReceived","loaded","hasSettings","remoteHost","origin","checkList","Error","isMessageFromIFrame","closeRequestCallback","closeIFrame","setListener","sendPageInfo","stop","stopPageInfo","startPageInfoMonitor","actionMsg","TypeError","removeIframeListeners","parentNode","removeChild","chkZero","checkIFrames","checkIFrame","settingId","chkDimension","isVisible","offsetParent","debouce","fixHiddenIFrames","processDimension","setDimension","doNotSync","calleeMsg","noResponseWarning","errorShown","contentWindow","msgTimeout","ensureHasId","join","checkOptions","option","hasOwnProperty","copyOptions","processOptions","overflow","setScrolling","addStyle","chkMinMax","setLimits","removedNodes","removedNode","createDestroyObserver","resetRequertMethod","Function","bind","removeListeners","anchor","resizeIFrames","sendTriggerMsg","tabVisible","visibilityState","isIFrameResizeEnabled","tagName","chkType","iFrames","vendors","setupRequestAnimationFrame","warnDeprecatedOptions","iframeResizer","iframeResizerContentWindow","_iframeResizer","_propTypes","__esModule","_react","_typeof","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","defineProperty","getOwnPropertyDescriptor","key","desc","set","_interopRequireWildcard","WeakMap","Symbol","iterator","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","toString","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","getPrototypeOf","_defineProperty","getRemarkboxUrl","remarkboxKey","threadUri","threadTitle","concat","encodeURIComponent","Remarkbox","_Component","subClass","superClass","_inherits","protoProps","staticProps","_super","_this","_len","_key","threadFragment","_this$props","className","frameBorder","ref","onRef","tabIndex","title","Component","isRequired","object","_default","BlogPostTemplate","render","post","markdownRemark","slug","path","frontmatter","description","excerpt","Link","to","date","dangerouslySetInnerHTML","__html","html","React"],"sourceRoot":""}